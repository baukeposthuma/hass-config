action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Energie
    size: fullscreen
    card_mod:
      style:
        #popup header
        .:
    content:
      type: grid
      columns: 2
      square: false
      cards:

        #solar
        - type: custom:apexcharts-card
          graph_span: 30sec
          header:
            title: Zonnepanelen
            show: true
            show_states: true
            colorize_states: true
          all_series_config:
            stroke_width: 2
            opacity: 0.3
            type: area
          color_list: ['red', 'green', 'blue']
          series:
            - entity: sensor.kwh_meter_active_power_l1
              unit: kWh
              type: area
              color: rgba(20,230,44,1)
              curve: smooth
              color_threshold:
                - value: 5
                  color: rgb(20,230,44)
                  opacity: 0
                - value: 6.5
                  color: rgb(20,230,44)
                  opacity: 1

        #consumption
        - type: custom:apexcharts-card
          graph_span: 30sec
          header:
            title: Stroomverbruik
            show: true
            show_states: true
            colorize_states: true
          all_series_config:
            stroke_width: 2
            opacity: 0.3
            type: area
          color_list: ['red', 'green', 'blue']
          series:
            - entity: sensor.p1_meter_active_power
              unit: kWh
              type: area
              color: rgba(130,50,255,1)
              curve: smooth

        #gas
        - type: custom:apexcharts-card
          graph_span: 12h
          header:
            title: Gasverbruik
            show: true
            show_states: true
            colorize_states: true
          all_series_config:
            stroke_width: 2
            opacity: 0.3
            type: area
          color_list: ['red', 'green', 'blue']
          series:
            - entity: sensor.p1_meter_total_gas
              unit: mÂ³
              type: area
              color: rgba(255,40,110,1)
              curve: smooth

        #netto grid
        - type: custom:apexcharts-card
          graph_span: 30sec
          header:
            title: Stroom totaal
            show: true
            show_states: true
            colorize_states: true
          all_series_config:
            stroke_width: 2
            opacity: 0.3
            type: area
          color_list: ['red', 'green', 'blue']
          series:
            - entity: sensor.p1_meter_active_power
              unit: kWh
              type: area
              color: rgba(130,50,255,1)
              curve: smooth
